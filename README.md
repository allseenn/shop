# Инструкция

## Описание

Данная инструкция посвящена второму заданию контрольной работы "Игрушки", объединенную мной в один проект ([**shop**](#startsh-исполнение-двух-задач-одним-скриптом)) с инклюзивным решением двух Задач:

1. [Задача по Ubuntu](#1задача-по-ubuntu) - *bash*-скрипт в файле **linux.sh**
2. [Задача по Java](#2задача-по-java) - *java*-приложение в папке **java**

Подробные требования к заданию смотрите в разделе [Задание 2. Магазин игрушек (Java)](#задание-2-магазин-игрушек-java)

Программный код каждой Задачи может быть запущен по отдельности, либо совместно. Структура папок и файлов из Задачи по Ubuntu совместима с Задачей по Java, в которой эти файлы используются как база данных для хранения информации по игрушкам.

## start.sh исполнение двух задач одним скриптом

Готовый код обеих Задач размещен на [гитхабе](https://github.com/allseenn/shop.git).

В главную директории **shop**, лежат:
- файл **linux.sh** *bash*-скрипт;
- папка **java** c *java*-проектом;
- файл **start.sh** главный стартовый *bash*-скрипт;
- файл **README.md** *markdown*-документ с инструкцией;
- папка **pics** директория с картинками для инструкции.

Для быстрого исполнения обеих Задач в среде с единым меню достаточно клонировать репозиторий в любую удобную директорию и запустить стартовый скрипт **start.sh**:

```
git clone https://github.com/allseenn/shop.git
cd shop
bash start.sh
```

<img src=pics/01.png>

Работа *bash*-скриптов и *java*-приложения проверена на следующих системах:

- Xbuntu 20.04 + OpenJDK8+
- Ubuntu 22.04 + OpenJDK8+
- Windows 11 в среде Github Bash + OpenJDK8+
- Android в Termux с установленным OpenJDK8+

В случае, отсутствия какого либо функционала, например *snapd*, появляется уведомление, без ошибки.

Перед выполнением задач, рекомендую через цифру *0* меню скрипта **start.sh** установить пакеты, необходимые для выполнения задач:

- команда *tree*
- Java Development Kit

### 1.Задача по Ubuntu

Вызывается как часть скрипта **start.sh** через цифру *1* главного меню. Либо как отдельный скрипт **linux.sh**

<img src=pics/02.png>

С небольшой паузой в 3 секунды, начинают выполняться все 8 заданий. Перед началом задания, в консоль,  выводится его описательный текст, по окончании проделанный результат.

В некоторых заданиях необходимы права администратора, при соответствующем запросе вводим пароль рута, например для установки и удаления пакетов.

По завершении всех 8 этапов первой Задачи, необходимо нажать *любую* клавишу для выхода, либо возврата в главное меню стартового скрипта **script.sh**

### 2.Задача по Java

Как отдельный проект, программу можно запустить из командной строки с помощью Visual Studtio Code перейдя в папку *java:*

```
cd java
code .
```

Но, можно запустить *java* программу в составе стартового скрипта *start.sh* выбрав цифру *2* главного меню скрипта **start.sh**.
Сначала запуститься сборка классов, через несколько секунд запуститься *java*-приложение, со своим меню:

<img src=pics/03.png>

*Java*-приложение проверит наличие директорий оставшихся после Задачи по Ubuntu. Если файлов и папок нет, *java*-приложение создаст их автоматически, если они остались от предыдущего задания, то будут использованы существующие для хранения данных.

В соответствии с прошлым заданием, в магазине несколько видов игрушек:

- Конструкторы
- Куклы
- Машинки
- Мягкие игрушки
- Настольные игры
- Роботы

Например, можно добавить конструктор с помощью цифры *1*:

<img src=pics/04.png>

Конструктор "Лего" добавиться в соответствующий файл "Конструкторы" и будет иметь уникальный *id* и рандомный *вес* от 0 до 100.
Тоже самое и для остальных категорий:

<img src=pics/05.png>

<img src=pics/06.png>

<img src=pics/07.png>

<img src=pics/08.png>

<img src=pics/09.png>

С помощью цифры *7* можно вывести все игрушки в магазине:

<img src=pics/10.png>

Отобразятся все игрушки по разделам, с указанием их *id*, *названия* и *веса*

Для возврата в главное меню нажмите *0*.

Атрибуты игрушки можно изменить, для этого нужно отобразить с помощью цифры *7* весь список, скопировать *id* нужной игрушки, вернуться в главное меню и нажать цифру *8*

<img src=pics/11.png>

После ввода нужного *id* отобразится подменю:

<img src=pics/12.png>

Можно поменять *вес* игрушки, изменить *имя* или удалить ее.

*4* - возврат в главное меню.

*5* - завершение программы.

### Розыгрыш приза

Цифра *9* главного меню, осуществляет рандомный выбор игрушки на основе ее *веса*.

Ее имя отображается на экране и она удаляется из соответствующего файла, где она хранилась.

Цифра *0* завершает *java*-приложение и возвращается главное меню стартового скрипта **start.sh**.

### Справка

С помощью цифры *4* меню стартового скрипта **start.sh** отобразится данная инструкция, перемещение по справке *VI*-подобное:

- *q* - выход из инструкции и справки по клавишам
- *h* - вызов справки по клавишам
- *j*, либо стрелка вниз - прокрутка вниз построчно
- *k*, либо стрелка вверх - прокрутка вверх построчно
- *space*, *PgDown* - постраничная прокрутка вниз
- *PgUp* - постраничная прокрутка вверх
- */* - режим поиска
- *n* - к следующему результату поиска
- *p* - к прошлому результату поиска
- *g* - к началу документа
- *G* - в конец документа

### Завершение

Базу игрушек т.е. файлы и папку "Игрушки", можно удалить с помощью цифры *4* стартового скрипта *start.sh*

Цифра *5* завершает скрипт.

# Задание 2 Магазин игрушек (Java)

Проект состоит из 2 частей:

Linux - Выполнить в командной строке
Программа на Java - Необходимо написать программу, для розыгрыша игрушек в магазине детских товаров.

Эти 2 части не взаимосвязанные. Т.е. не нужно с помощью программы на Java выполнять команды в Linux

*У кого не было курса по Linux – Пропускаем 1 часть по Linux. При сдаче проекта укажите это.

Подробное описание задач – ниже.

## Как сдавать проект

Первую часть по Linux можно сдавать скринами терминала, текстовым или PDF файлом и приложить к проекту и\или добавить на github.
(У кого не было этого курса - пропускаем это задние)

Вторую часть программы на Java – выкладываем в отдельный общедоступный репозиторий Github
Программа должна запускаться и работать, ошибок при выполнении программы быть не должно.

## Задача 1

1. Используйте команды операционной системы Linux и создайте две новых директории – «Игрушки для школьников» и «Игрушки для дошколят»
2. Создайте в директории «Игрушки для школьников» текстовые файлы - «Роботы», «Конструктор», «Настольные игры»
3. Создайте в директории «Игрушки для дошколят» текстовые файлы «Мягкие игрушки», «Куклы», «Машинки»
4. Объединить 2 директории в одну «Имя Игрушки»
5. Переименовать директорию «Имя Игрушки» в «Игрушки»
6. Просмотреть содержимое каталога «Игрушки».
7. Установить и удалить snap-пакет. (Любой, какой хотите)
8. Добавить произвольную задачу для выполнения каждые 3 минуты (Например, запись в текстовый файл чего-то или копирование из каталога А в каталог Б).

## Задача 2

Необходимо написать программу – розыгрыша игрушек в магазине детских товаров.

Стараемся применять ООП и работу с файлами.

Если какой-то пункт не изучали и не знаете, как сделать, то можете сделать своим способом. Например, у кого в курсе не было ООП, то применяем списки\массивы\словари

## Желательный функционал программы:

В программе должен быть минимум один класс со следующими свойствами:

- id игрушки,
- текстовое название,
- количество
- частота выпадения игрушки (вес в % от 100)

Метод добавление новых игрушек и возможность изменения веса (частоты выпадения игрушки)

Возможность организовать розыгрыш игрушек.

Например, следующим образом:
С помощью метода выбора призовой игрушки – мы получаем эту призовую игрушку и записываем в список\массив.

Это список призовых игрушек, которые ожидают выдачи.

Еще у нас должен быть метод – получения призовой игрушки.

После его вызова – мы удаляем из списка\массива первую игрушку и сдвигаем массив. А эту игрушку записываем в текстовый файл.

Не забываем уменьшить количество игрушек

К написанию программы можно подойти более творчески и делать так, как Вы поняли задание. Немного менять и отходить от примера выше.
